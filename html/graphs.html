<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>nerdobd2</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="all" />

  <script language="javascript" type="text/javascript" src="js/flot/jquery.min.js"></script>
  <script language="javascript" type="text/javascript" src="js/flot/jquery.flot.min.js"></script>
  <script language="javascript" type="text/javascript" src="js/flot/jquery.flot.threshold.min.js"></script>

  <script language="javascript" type="text/javascript" src="js/graph.js"></script>
  <script language="javascript" type="text/javascript" src="js/value.js"></script>

  <script language="javascript" type="text/javascript">

    $(document).ready(function() {

      // setting up consumption graph
      var ConsumptionGraph = new Graph("consumption", 1800000);

      ConsumptionGraph.setSeries({
        "color": "rgb(200, 20, 30)",
        "lines": { "fill": false, "steps": true },
        "threshold": { "below": 6.0, "color": "rgb(30, 180, 20)" }
      });

      ConsumptionGraph.setOptions({
        "yaxis": { "min": 0, "max": 20 },
        "xaxis": { "min": 0, "max": 0, "mode": "time", "timeformat": "%H:%M" }
      });


      // and setting up speed graph
      var SpeedGraph = new Graph("speed", 1800000);

      SpeedGraph.setSeries({
        "color": "rgb(0, 0, 200)",
        "lines": { "fill": true }
      });

      SpeedGraph.setOptions({
        "yaxis": { "min": 0, "max": 150 },
        "xaxis": { "min": 0, "max": 0, "mode": "time", "timeformat": "%H:%M" }
      });


      // setup all variables
      var Data = new Values("data.json", 300);
      var Average = new Values("averages.json", 10000);

      Data.create("consumption_per_100km", "l/km", 2);
      Data.create("speed",  "km/h", 1);
      Data.create("temp_engine", "°C", 1);
      Data.create("temp_air_intake", "°C", 1);
      Data.create("voltage", "°C", 1);

      Data.create("gps_speed", "km/h", 1);
      Data.create("gps_altitude", "m", 1);
      Data.create("gps_mode", "gps", 0);

      Average.create("consumption_average_startup", "l/km", 2);
      Average.create("consumption_average_total", "l/km", 2);
      Average.create("consumption_liters_startup", "l", 2);
      Average.create("kilometers_startup", "km", 2);
      Average.create("consumption_liters_total", "l", 2);
      Average.create("kilometers_total", "km", 2);
    });
  </script>

 </head>
 <body>

  <div class="left-container">
   <div id="graph-consumption" class="graph"></div>
   <div id="graph-speed" class="graph"></div>
  </div>

  <div class="right-container">
   <span id="consumption_per_100km" class="value value-big">-</span>
   <span id="consumption_per_100km-unit" class="unit unit-big">l/km</span>

   <span id="speed" class="value value-big">-</span><span class="unit unit-big">km/h</span>

   <span id="consumption_average_startup" class="value value-medium" style="margin-top:10px">-</span >
   <span class="unit unit-medium" style="margin-top:20px">l/km</span>

   <span id="consumption_average_total" class="value value-medium">-</span>
   <span class="unit unit-medium">l/km</span>

   <span id="consumption_liters_startup" class="value value-small" style="margin-top:26px">-</span>
   <span class="unit unit-small" style="margin-top:30px">l</span>

   <span id="consumption_liters_total" class="value value-small">-</span>
   <span class="unit unit-small">l</span>

   <span id="kilometers_startup" class="value value-small">-</span>
   <span class="unit unit-small">km</span>
   <span id="kilometers_total" class="value value-small">-</span>
   <span class="unit unit-small">km</span>

   <span id="temp_engine" class="value value-small">-</span>
   <span class="unit unit-small">°C</span>
   <span id="temp_air_intake" class="value value-small">-</span>
   <span class="unit unit-small">°C</span>
   <span id="voltage" class="value value-small">-</span>
   <span class="unit unit-small">V</span>

   <span id="gps_speed" class="value value-small" style="margin-top:26px">-</span>
   <span class="unit unit-small" style="margin-top:30px">km/h</span>

   <span id="gps_altitude" class="value value-small">-</span>
   <span class="unit unit-small">m</span>
   <span id="gps_mode" class="value value-small">-</span>
   <span class="unit unit-small">gps</span>
  </div>

 </body>
</html>

